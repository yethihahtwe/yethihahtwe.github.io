<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v5.3.0"><title>Setting up LAMP stack and deployment on a VPS</title><meta name="description" content="05-Laravel deployment setup"><meta name="theme-color" content="#8c5cf5"><link rel="canonical" href="https://yethihahtwe.co.uk/"><meta name="og:title" content="Setting up LAMP stack and deployment on a VPS"><meta name="og:description" content="05-Laravel deployment setup"><meta name="og:image" content="/_astro/terminal.DI2cTsLy.png"><meta name="og:url" content="https://yethihahtwe.co.uk/"><meta name="og:locale" content="en"><meta name="og:type" content="article">
			<meta property="article:published_time" content="2025-03-09T17:00:00.000Z">
			<meta name="author" content="YeThiHaHtwe"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Setting up LAMP stack and deployment on a VPS"><meta name="twitter:description" content="05-Laravel deployment setup"><meta name="twitter:image" content="/_astro/terminal.DI2cTsLy.png"><style>article h1,article h2,article h3,article h4{scroll-margin:4rem;margin-top:2rem}article{line-height:1.6;min-width:0}article hr{height:1px;border:none;background-color:#353535}p:has(img){display:flex;align-items:center;justify-content:center;margin-top:1rem;margin-bottom:1rem}p img{max-width:100%}.toc-card{min-width:0}.toc-card ol{padding:0;display:flex;flex-direction:column;gap:.5rem;margin-bottom:0;list-style-type:none;position:relative}.toc-card ol li a{color:#c7c7c7;font-size:.925rem;padding:.25rem .5rem;box-decoration-break:clone;-webkit-box-decoration-break:clone}.toc-card ol li a:hover{color:#fff;text-decoration:none}.toc-li[data-depth="3"]{margin-left:1rem}.toc-li[data-depth="4"]{margin-left:2rem}.no-mt{margin-top:0}ol li a.active{color:#fff;background:var(--primary)}.left{height:100%;position:relative}.toc-card{position:sticky;top:2rem}.article-header{position:relative;width:100%;height:fit-content;scroll-margin-top:2rem}.header{display:flex;flex-direction:column;gap:.5rem;position:absolute;bottom:1.5rem;left:1rem;max-width:calc(100% - 3rem);z-index:2}.article-h1{margin-bottom:0;font-size:2em;background:#fff;padding:.25rem .675rem;box-decoration-break:clone;-webkit-box-decoration-break:clone;position:relative;line-height:1.2;display:inline;color:#000}.article-info{display:flex;flex-direction:row;gap:.5rem;font-family:Ghost Mono,monospace;background:#fff;color:#000;box-decoration-break:clone;-webkit-box-decoration-break:clone;padding:0 .75rem;width:fit-content}@media screen and (max-width: 640px){.header{position:relative;bottom:0;left:0;width:fit-content;max-width:none;margin-top:1rem}.article-h1{display:inline;background-color:transparent;padding:0;color:#fff}.article-info{display:block;background-color:transparent;padding:0;color:#fff}}code:not(.astro-code code){background-color:#353535;padding:.125rem .25rem;font-size:.925rem}.article-image{width:100%;height:auto;z-index:1}.end-of-article{margin-top:1rem;margin-bottom:1.5rem;width:100%;height:1px;background-color:#353535;border:none}blockquote{border-left:2px solid var(--primary);padding:.75rem 1rem;margin-left:0;background-color:rgba(var(--primary-rgb),.25);width:100%}blockquote p{margin-top:0;margin-bottom:0}table{margin-top:1rem;text-align:left;border-spacing:0;border-collapse:collapse}table th{padding:.5rem 1.5rem .5rem 0;border-bottom:1px solid #353535}table tbody{margin-top:1rem}table tbody tr{border-bottom:1px solid #353535}table tbody tr td{padding:.5rem 1.5rem .5rem 0}
.glow-image[data-astro-cid-lwpf7n2j]{position:relative}.glow-image[data-astro-cid-lwpf7n2j] img[data-astro-cid-lwpf7n2j]{position:relative;z-index:1}.glow[data-astro-cid-lwpf7n2j]{position:absolute!important;top:0;left:0;z-index:0!important;filter:blur(8px)}
.card[data-astro-cid-dohjnao5]{width:100%;height:auto;background-color:#121212;border:1px solid #353535;padding:1.5rem;overflow:hidden}
</style>
<link rel="stylesheet" href="/_astro/blog.BfHlQc7r.css">
<style>.toc-card ol{padding:0;display:flex;flex-direction:column;gap:.5rem;margin-bottom:0;list-style-type:none;position:relative}.toc-card ol li a{color:#c7c7c7;font-size:.925rem;padding:.25rem .5rem;box-decoration-break:clone;-webkit-box-decoration-break:clone}.toc-card ol li a:hover{color:#fff;text-decoration:none}.toc-card ol li a.active{color:#fff;background:var(--primary)}.left{height:100%;position:relative}.toc-card{position:sticky;top:2rem}article{display:flex;flex-direction:column;gap:2rem}.comments *{border-color:#353535!important}@media screen and (max-width: 640px){article{gap:1rem}}
</style></head> <body> <main> <nav data-astro-cid-5blmo7yk> <a class="site-title" href="/" data-astro-cid-5blmo7yk>YeThiHaHtwe</a> <ul data-astro-cid-5blmo7yk> <li data-astro-cid-5blmo7yk> <a href="/blog" data-astro-cid-5blmo7yk>Blog</a> </li> <li class="nav-separator" data-astro-cid-5blmo7yk>/</li> <li data-astro-cid-5blmo7yk> <a href="/projects" data-astro-cid-5blmo7yk>Projects</a> </li> <li class="nav-separator" data-astro-cid-5blmo7yk>/</li> <li data-astro-cid-5blmo7yk> <input id="search" type="text" placeholder="Search (Ctrl+K)" data-astro-cid-5blmo7yk> <div id="search-results" data-astro-cid-5blmo7yk></div> </li> </ul> <button class="mobile-nav-toggle" data-astro-cid-5blmo7yk> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" class="menu-closed" data-astro-cid-5blmo7yk="true"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12h16M4 6h16M4 18h16"/></svg> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" class="menu-open" data-astro-cid-5blmo7yk="true"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 6L6 18M6 6l12 12"/></svg> </button> </nav> <script>
  const searchElement = document.querySelector('#search');
  const results = document.querySelector('#search-results');
  const navToggle = document.querySelector('.mobile-nav-toggle');

  let focusIndex = -1;

  document.addEventListener('keydown', (e) => {
    if (e.key === 'k' && e.ctrlKey) {
      searchElement.focus();
    }

    if (e.key === 'Escape') {
      searchElement.blur();
      results.classList.remove('active');
      focusIndex = -1;
    }

    if (e.key === 'ArrowDown') {
      e.preventDefault();

      focusIndex++;
      const results = document.querySelectorAll('#search-results a');

      if (focusIndex >= results.length) {
        focusIndex = 0;
      }

      results[focusIndex]?.focus();
    }

    if (e.key === 'ArrowUp') {
      e.preventDefault();

      focusIndex--;
      const results = document.querySelectorAll('#search-results a');

      if (focusIndex < 0) {
        focusIndex = results.length - 1;
      }

      results[focusIndex]?.focus();
    }
  });

  searchElement?.addEventListener('focus', () => {
    searchElement.placeholder = '';
    results.classList.add('active');
  });

  searchElement?.addEventListener('blur', () => {
    searchElement.placeholder = 'Search (Ctrl+K)';
  });

  searchElement?.addEventListener('blur', () => {
    setTimeout(() => {
      if (!document.activeElement?.closest('#search-results')) {
        results.classList.remove('active');
        focusIndex = -1;
      }
    }, 1);
  });

  results?.addEventListener('focusout', (e) => {
    if (!e.relatedTarget?.closest('#search-results')) {
      results.classList.remove('active');
      focusIndex = -1;
    }
  });

  searchElement?.addEventListener('input', async (e) => {
    if (e.target.dataset.loaded !== 'true') {
      e.target.dataset.loaded = 'true';

      window.pagefind = await import("/pagefind/pagefind.js");
    }

    results.innerHTML = '';

    const search = await window.pagefind.search(e.target.value);

    let i = 0;
    for (const result of search.results) {
      i++;

      const data = await result.data();

      results.innerHTML += `
        <a href="${data.url}">
          <h3 class="no-mt">${data.meta.title}</h3>
          <p>${data.excerpt}</p>
        </a>
        ${i < search.results.length ? '<hr class="separator">' : ''}
      `;
    }

    if (search.results.length === 0 && e.target.value.length > 0) {
      results.innerHTML = '<p style="margin-top: 0;">No results found</p>';
    }

    results.classList.add('active');
  });

  navToggle?.addEventListener('click', () => {
    navToggle.classList.toggle('active');
    document.querySelector('nav').classList.toggle('active');
  });

  const handleTabletChange = () => {
    if (window.matchMedia('(max-width: 640px)').matches) {
      searchElement.placeholder = 'Search';
    } else {
      searchElement.placeholder = 'Search (Ctrl+K)';
    }
  }

  document.addEventListener('DOMContentLoaded', handleTabletChange);
  document.addEventListener('resize', handleTabletChange);
</script>   <div class="layout-grid" data-astro-cid-cgyg4spe> <div class="left"> <div class="card toc-card" data-astro-cid-dohjnao5>  <h2 class="no-mt">Table of contents</h2> <ol> <li class="toc-li"> <a href="#_top" class="active">Setting up LAMP stack and deployment on a VPS</a> </li> <li class="toc-li" data-depth="2"> <a href="#laravel-deployment-setup">Laravel Deployment Setup</a> </li><li class="toc-li" data-depth="2"> <a href="#git-installation">Git Installation</a> </li><li class="toc-li" data-depth="3"> <a href="#enable-apache-rewrite-module">Enable Apache rewrite module</a> </li><li class="toc-li" data-depth="3"> <a href="#cloning-your-laravel-project">Cloning your Laravel project</a> </li><li class="toc-li" data-depth="3"> <a href="#environment-setup">Environment setup</a> </li><li class="toc-li" data-depth="3"> <a href="#creating-a-database-and-user-for-laravel-project">Creating a database and user for Laravel project</a> </li><li class="toc-li" data-depth="3"> <a href="#installing-composer-dependencies">Installing composer dependencies</a> </li><li class="toc-li" data-depth="3"> <a href="#generate-app-key">Generate App key</a> </li><li class="toc-li" data-depth="3"> <a href="#prapare-laravel-storage">Prapare Laravel storage</a> </li><li class="toc-li" data-depth="3"> <a href="#database-migration">Database Migration</a> </li><li class="toc-li" data-depth="3"> <a href="#laravel-permissions">Laravel Permissions</a> </li><li class="toc-li" data-depth="3"> <a href="#configure-apache-to-serve-public-folder">Configure Apache to serve public folder</a> </li><li class="toc-li" data-depth="3"> <a href="#laravel-caching">Laravel Caching</a> </li><li class="toc-li" data-depth="3"> <a href="#set-server-timezone">Set server timezone</a> </li> </ol>  </div>  </div> <article data-pagefind-body> <div class="card" data-astro-cid-dohjnao5>  <div class="article-header" id="_top" data-pagefind-ignore> <div class="glow-image" data-astro-cid-lwpf7n2j> <img src="/_astro/terminal.DI2cTsLy_Z2ilGHl.webp" alt="Setting up LAMP stack and deployment on a VPS" data-astro-cid-lwpf7n2j="true" width="1649" height="1414" loading="lazy" decoding="async" class="article-image"> <img src="/_astro/terminal.DI2cTsLy_nXjmv.webp" alt="Setting up LAMP stack and deployment on a VPS" data-astro-cid-lwpf7n2j="true" width="1649" height="1414" loading="lazy" decoding="async" class="article-image glow article-image"> </div>  <div class="header"> <div> <h1 class="no-mt article-h1">Setting up LAMP stack and deployment on a VPS</h1> </div> <div class="article-info"> <span>3/10/2025</span> <span>/</span> <span>16 minutes to read</span> <span>/</span> <span>Tags: vps-setup</span> </div> </div> </div> <h2 id="laravel-deployment-setup">Laravel Deployment Setup</h2>
<p>ပြီးခဲ့တဲ့အဆင့်တွေအတိုင်းလုပ်ပြီးပြီဆိုရင် PHP, MySQL သုံးတဲ့ ပရောဂျက်တွေ deploy လုပ်လို့ရပါပြီ။ Laravel project တွေအတွက်ဆိုရင်တော့ configure ဆက်လုပ်ရမှာလေးတွေရှိပါတယ်။</p>
<p>Laravel သုံးဖို့လိုအပ်တဲ့ PHP modules တွေ ထပ်ထည့်ပါမယ်။ အသုံးများတဲ့ PHP module တွေထည့်ထားပြီးသားဆိုရင် ထပ်ထည့်ဖို့မလိုတော့ပါဘူး။</p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.23l6f.css"/><script type="module" src="/_astro/ec.8zarh.js"></script><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#B392F0">sudo</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">apt</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">install</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">php-bcmath</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">php-xml</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">php-fpm</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">php-zip</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">php-intl</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">php-mbstring</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">php-curl</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">php-mysql</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">php-cli</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">unzip</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">-y</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo apt install php-bcmath php-xml php-fpm php-zip php-intl php-mbstring php-curl php-mysql php-cli unzip -y"><div></div></button></div></figure></div>
<p>PHP ရဲ့ package manager ဖြစ်တဲ့ Composer သွင်းပါမယ်။</p>
<div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#B392F0">curl</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">-sS</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">https://getcomposer.org/installer</span><span style="--0:#E1E4E8"> </span><span style="--0:#F97583">|</span><span style="--0:#E1E4E8"> </span><span style="--0:#B392F0">php</span></div></div><div class="ec-line"><div class="code"><span style="--0:#B392F0">sudo</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">mv</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">composer.phar</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">/usr/local/bin/composer</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="curl -sS https://getcomposer.org/installer | phpsudo mv composer.phar /usr/local/bin/composer"><div></div></button></div></figure></div>
<h2 id="git-installation">Git Installation</h2>
<p>Project repo ကို clone လုပ်ဖို့ Git လိုအပ်ပါတယ်။</p>
<div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#B392F0">sudo</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">apt</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">install</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">git</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">-y</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo apt install git -y"><div></div></button></div></figure></div>
<h3 id="enable-apache-rewrite-module">Enable Apache rewrite module</h3>
<p>Apache server ရဲ့ rewrite module ကိုဖွင့်ပေးပါမယ်။ ပြီးရင် ဆားဗစ် restart လုပ်ပေးပါ</p>
<div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#B392F0">sudo</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">a2enmod</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">rewrite</span></div></div><div class="ec-line"><div class="code"><span style="--0:#B392F0">sudo</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">systemctl</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">restart</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">apache2</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo a2enmod rewritesudo systemctl restart apache2"><div></div></button></div></figure></div>
<h3 id="cloning-your-laravel-project">Cloning your Laravel project</h3>
<p>ဒီနမူနာမှာတော့ မိမိ Github က ရှိပြီးသား Laravel project တစ်ခုကို clone လုပ်တဲ့အပိုင်းကိုဖော်ပြသွားပါမယ်။</p>
<p>Document root ကိုသွားပြီး clone လုပ်ပါ။ <code>yourusername</code> နဲ့ <code>your-repo.git</code> မှာ မိမိ git username နဲ့ repo address အစားထိုးပေးပါ။</p>
<div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF">cd</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">/var/www/yourdomain.com</span></div></div><div class="ec-line"><div class="code"><span style="--0:#B392F0">git</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">clone</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">https://github.com/yourusername/your-repo.git</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">public_html</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="cd /var/www/yourdomain.comgit clone https://github.com/yourusername/your-repo.git public_html"><div></div></button></div></figure></div>
<blockquote>
<p>Git repo က public မဟုတ်ဘဲ private ဖြစ်နေမယ်ဆိုရင် HTTPS နဲ့ clone တဲ့အခါ email နဲ့ password တောင်းပါလိမ့်မယ်။ အဲဒီအခါ password မှာ github account ရဲ့ password မဟုတ်ဘဲ github account authentication token ကိုထည့်ပေးရမှာပါ</p>
</blockquote>
<blockquote>
<p>Git repo ကို SSH နဲ့ clone မယ်ဆိုရင်တော့ git operation တိုင်းမှာ login လုပ်ဖို့မလိုတော့ပါဘူး။ SSH နဲ့ clone လို့ရအောင် ကိုယ့်ကွန်ပြူတာမှာ SSH key pair generate လုပ်တုန်းကလိုပဲ VPS ပေါ်မှာ generate လုပ်လို့ရပါတယ်။ VPS ရဲ့ public key ကို github account settings ထဲက SSH and GPG keys မှာသွားထည့်လိုက်ရင် နောက်ပိုင်းအလုပ်မရှုပ်တော့ပါဘူး။</p>
</blockquote>
<h3 id="environment-setup">Environment setup</h3>
<p>Laravel ပရောဂျက်ရဲ့ <code>.gitignore</code> ထဲကအတိုင်းပဲ Git repo မှာတင်ထားလိုက်ပြီဆိုရင် <code>.env</code>၊ <code>node_modules</code> နဲ့ <code>vendor</code> folder တွေမပါလာတော့ပါဘူး။ clone လုပ်ယူလိုက်တဲ့နေရာအသစ်မှာ ပြန် install လုပ်ယူရပါမယ်။</p>
<p>အရင်ဆုံး <code>.env.example</code> ကို <code>.env</code> အဖြစ် ကော်ပီယူပါမယ်။</p>
<div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF">cd</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">/var/www/yourdomain.com/public_html</span></div></div><div class="ec-line"><div class="code"><span style="--0:#B392F0">cp</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">.env.example</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">.env</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="cd /var/www/yourdomain.com/public_htmlcp .env.example .env"><div></div></button></div></figure></div>
<p>ပြီးရင် .env file ကိုဖွင့်ပြီး database settings တွေပြင်ဆင်ပါမယ်။</p>
<div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#B392F0">nano</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">.env</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="nano .env"><div></div></button></div></figure></div>
<p>အဓိကပြောင်းရမှာတွေက အောက်ပါအတိုင်းဖြစ်ပါတယ်။ ကိုယ့်ဆာဗာရဲ့တန်ဖိုးတွေနဲ့ပြန်အစားထိုးပေးပါ။ လောလောဆယ် MySQL မှာ Laravel project အတွက်သီးသန့် database နဲ့ user မလုပ်ပေးရသေးပေမယ့် database နာမည်အသစ်နဲ့ user, password အသစ်တစ်ခုစီအရင်ထည့်ပေးထားပါ။ ခဏနေရင် mysql cli မှာဆက်လုပ်ပါမယ်။</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">APP_NAME=&quot;Your App Name&quot;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">APP_ENV=production</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">APP_DEBUG=false</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">APP_URL=https://yourdomain.com</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">DB_CONNECTION=mysql</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">DB_HOST=127.0.0.1</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">DB_PORT=3306</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">DB_DATABASE=yourdatabase</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">DB_USERNAME=dbusername</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">DB_PASSWORD=dbpassword</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="APP_NAME=&#34;Your App Name&#34;APP_ENV=productionAPP_DEBUG=falseAPP_URL=https://yourdomain.comDB_CONNECTION=mysqlDB_HOST=127.0.0.1DB_PORT=3306DB_DATABASE=yourdatabaseDB_USERNAME=dbusernameDB_PASSWORD=dbpassword"><div></div></button></div></figure></div>
<h3 id="creating-a-database-and-user-for-laravel-project">Creating a database and user for Laravel project</h3>
<p>Laravel project သုံးဖို့ database တစ်ခုတည်ဆောက်ပေးပါမယ်။ အဲဒီ database အတွက်လည်း db user တစ်ယောက်ထပ်လုပ်ပေးပါမယ်။ mysql root db user ရှိပြီးသားဆိုပေမယ့် best practice တွေအရ နေရာတိုင်းမှာ root user မသုံးဘဲ database တစ်လုံးကို user တစ်ယောက်စီထားတာ ပိုကောင်းပါတယ်။</p>
<p>အရင်ဆုံး MySQL login ဝင်ပါမယ်။</p>
<div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#B392F0">sudo</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">mysql</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">-u</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">root</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">-p</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo mysql -u root -p"><div></div></button></div></figure></div>
<p>password တောင်းရင် myql root user password ထည့်ပေးပါ။ VPS root user password မဟုတ်ပါဘူး။</p>
<p>ပြီးရင် database နဲ့ user တွေလုပ်ပါမယ်။ <code>yourdatabase</code>, <code>dbusername</code>, <code>dbpassword</code> တွေမှာ တန်ဖိုးအသစ်တွေထည့်ပေးပါ။</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="sql"><code><div class="ec-line"><div class="code"><span style="--0:#F97583">CREATE</span><span style="--0:#E1E4E8"> </span><span style="--0:#F97583">DATABASE</span><span style="--0:#E1E4E8"> </span><span style="--0:#B392F0">yourdatabase</span><span style="--0:#E1E4E8">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F97583">CREATE</span><span style="--0:#E1E4E8"> </span><span style="--0:#F97583">USER</span><span style="--0:#E1E4E8"> &#39;</span><span style="--0:#B392F0">dbusername</span><span style="--0:#E1E4E8">&#39;@</span><span style="--0:#9ECBFF">&#39;localhost&#39;</span><span style="--0:#E1E4E8"> IDENTIFIED </span><span style="--0:#F97583">BY</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">&#39;dbpassword&#39;</span><span style="--0:#E1E4E8">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F97583">GRANT</span><span style="--0:#E1E4E8"> ALL PRIVILEGES </span><span style="--0:#F97583">ON</span><span style="--0:#E1E4E8"> yourdatabase.</span><span style="--0:#F97583">*</span><span style="--0:#E1E4E8"> </span><span style="--0:#F97583">TO</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">&#39;dbusername&#39;</span><span style="--0:#E1E4E8">@</span><span style="--0:#9ECBFF">&#39;localhost&#39;</span><span style="--0:#E1E4E8">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">FLUSH PRIVILEGES;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8">EXIT;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="CREATE DATABASE yourdatabase;CREATE USER 'dbusername'@'localhost' IDENTIFIED BY 'dbpassword';GRANT ALL PRIVILEGES ON yourdatabase.* TO 'dbusername'@'localhost';FLUSH PRIVILEGES;EXIT;"><div></div></button></div></figure></div>
<h3 id="installing-composer-dependencies">Installing composer dependencies</h3>
<div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF">cd</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">/var/www/yourdomain.com/public_html</span></div></div><div class="ec-line"><div class="code"><span style="--0:#B392F0">composer</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">install</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">--no-dev</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">--optimize-autoloader</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="cd /var/www/yourdomain.com/public_htmlcomposer install --no-dev --optimize-autoloader"><div></div></button></div></figure></div>
<h3 id="generate-app-key">Generate App key</h3>
<div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#B392F0">php</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">artisan</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">key:generate</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="php artisan key:generate"><div></div></button></div></figure></div>
<h3 id="prapare-laravel-storage">Prapare Laravel storage</h3>
<div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#B392F0">php</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">artisan</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">storage:link</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="php artisan storage:link"><div></div></button></div></figure></div>
<h3 id="database-migration">Database Migration</h3>
<div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#B392F0">php</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">artisan</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">migrate</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="php artisan migrate"><div></div></button></div></figure></div>
<h3 id="laravel-permissions">Laravel Permissions</h3>
<p>Laravel project ရဲ့ asset file ၊ cache file တွေကို apache server ကခေါ်သုံးခွင့်ရှိအောင် permission ဖွင့်ပေးရပါမယ်။</p>
<div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#B392F0">sudo</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">chown</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">-R</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">www-data:www-data</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">/var/www/yourdomain.com/public_html/storage</span></div></div><div class="ec-line"><div class="code"><span style="--0:#B392F0">sudo</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">chown</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">-R</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">www-data:www-data</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">/var/www/yourdomain.com/public_html/bootstrap/cache</span></div></div><div class="ec-line"><div class="code"><span style="--0:#B392F0">sudo</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">chmod</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">-R</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">775</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">/var/www/yourdomain.com/public_html/storage</span></div></div><div class="ec-line"><div class="code"><span style="--0:#B392F0">sudo</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">chmod</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">-R</span><span style="--0:#E1E4E8"> </span><span style="--0:#79B8FF">775</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">/var/www/yourdomain.com/public_html/bootstrap/cache</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo chown -R www-data:www-data /var/www/yourdomain.com/public_html/storagesudo chown -R www-data:www-data /var/www/yourdomain.com/public_html/bootstrap/cachesudo chmod -R 775 /var/www/yourdomain.com/public_html/storagesudo chmod -R 775 /var/www/yourdomain.com/public_html/bootstrap/cache"><div></div></button></div></figure></div>
<h3 id="configure-apache-to-serve-public-folder">Configure Apache to serve public folder</h3>
<p>လောလောဆယ်မှာ project folder တစ်ခုလုံးကို public_html နာမည်နဲ့ clone ထားတာဖြစ်ပါတယ်။ ဒါပေမယ့် browser မှာဖွင့်လိုက်မယ်ဆိုရင် public folder ထဲက ဖိုင်တွေကိုပဲ serve လုပ်ပေးချင်တာဖြစ်ပါတယ်။ ဒါကြောင့် apache configuration မှာ project ထဲက public folder ကို serve လုပ်ပေးဖို့ညွှန်ပြပေးရပါမယ်။</p>
<div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#B392F0">sudo</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">nano</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">/etc/apache2/sites-available/yourdomain.com.conf</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo nano /etc/apache2/sites-available/yourdomain.com.conf"><div></div></button></div></figure></div>
<p>ပြီးရင် public ဖိုလ်ဒါကို point လုပ်အောင် ပြင်ဆင်ပါမယ်။</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">&lt;VirtualHost *:80&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">ServerName yourdomain.com</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">ServerAlias www.yourdomain.com</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">DocumentRoot /var/www/yourdomain.com/public_html/public</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">&lt;Directory /var/www/yourdomain.com/public_html/public&gt;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">        </span></span><span style="--0:#e1e4e8">Options Indexes FollowSymLinks</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">        </span></span><span style="--0:#e1e4e8">AllowOverride All</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">        </span></span><span style="--0:#e1e4e8">Require all granted</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">&lt;/Directory&gt;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">ErrorLog /var/www/yourdomain.com/log/error.log</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#e1e4e8">    </span></span><span style="--0:#e1e4e8">CustomLog /var/www/yourdomain.com/log/access.log combined</span></div></div><div class="ec-line"><div class="code"><span style="--0:#e1e4e8">&lt;/VirtualHost&gt;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="<VirtualHost *:80>    ServerName yourdomain.com    ServerAlias www.yourdomain.com    DocumentRoot /var/www/yourdomain.com/public_html/public    <Directory /var/www/yourdomain.com/public_html/public>        Options Indexes FollowSymLinks        AllowOverride All        Require all granted    </Directory>    ErrorLog /var/www/yourdomain.com/log/error.log    CustomLog /var/www/yourdomain.com/log/access.log combined</VirtualHost>"><div></div></button></div></figure></div>
<p>ပြီးရင် Apache ကို reload လုပ်ပါမယ်။</p>
<div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#B392F0">sudo</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">systemctl</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">reload</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">apache2</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo systemctl reload apache2"><div></div></button></div></figure></div>
<h3 id="laravel-caching">Laravel Caching</h3>
<p>Optimization အတွက် caching လုပ်ပါမယ်။</p>
<div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#B392F0">php</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">artisan</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">config:cache</span></div></div><div class="ec-line"><div class="code"><span style="--0:#B392F0">php</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">artisan</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">route:cache</span></div></div><div class="ec-line"><div class="code"><span style="--0:#B392F0">php</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">artisan</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">view:cache</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="php artisan config:cachephp artisan route:cachephp artisan view:cache"><div></div></button></div></figure></div>
<h3 id="set-server-timezone">Set server timezone</h3>
<p>နောက်ပိုင်းမှာ cron job တွေ run ဖို့ရှိတာ၊ time-sensitive ဖြစ်တဲ့စာမျက်နှာတွေထည့်ချင်တာမျိုးမှာ ဆာဗာနာရီကို မိမိ target user အများစုသုံးတဲ့ timezone အတိုင်းချိန်ညှိပေးဖို့လိုပါတယ်။</p>
<div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#B392F0">sudo</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">timedatectl</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">set-timezone</span><span style="--0:#E1E4E8"> </span><span style="--0:#9ECBFF">Asia/Yangon</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="sudo timedatectl set-timezone Asia/Yangon"><div></div></button></div></figure></div> <hr class="end-of-article"> <a href="/blog" class="block-link" data-pagefind-ignore>← Back to blog</a>  </div>  <div class="card" data-astro-cid-dohjnao5>  <div class="comments" data-pagefind-ignore> <script src="https://giscus.app/client.js" data-repo="yethihahtwe/yethihahtwe.github.io" data-repo-id="R_kgDOHlOQTQ" data-category="General" data-category-id="DIC_kwDOHlOQTc4CmiC7" data-mapping="pathname" data-strict="1" data-reactions-enabled="1" data-emit-metadata="0" data-theme="https://spectre.louisescher.dev/styles/giscus" data-lang="en" data-loading="lazy" crossorigin="anonymous" async></script> </div>  </div>  </article> </div>   </main> <canvas id="bg-canvas"></canvas> <canvas id="overlay-canvas"></canvas> <script type="module" src="/_astro/Background.astro_astro_type_script_index_0_lang.Cl_PlrnR.js"></script> </body></html> <script type="module">const s=document.querySelectorAll(".toc-li a"),c=document.querySelectorAll("#_top, article h1, article h2, article h3, article h4"),n=new Map;for(const t of s){const e=t.href.split("#")[1],o=document.getElementById(e);o&&n.set(o,t)}function l(t){const e=t.getBoundingClientRect(),o=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(e.bottom<0||e.top-o>=0)}const r=new IntersectionObserver(()=>{let t=null;for(const e of c){const o=l(e),i=n.get(e);if(o){i&&i.classList.add("active"),t||(t=e);break}}if(t){for(const e of n.keys())if(e!==t){const o=n.get(e);o&&o.classList.remove("active")}}},{threshold:0,root:null,rootMargin:"0px"});for(const t of c)r.observe(t);</script> 